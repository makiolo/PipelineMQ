version: 1.0.{build}

platform:
  - x86
  - x64

configuration:
  - Debug
  - Release

install:
  - cmd: git submodule update --init --recursive
  - cmd: pip install pyyaml
  - cmd: pip install poster

build_script:
  - cmd: set || exit 0
  - cmd: git clone https://github.com/makiolo/cmaki.git node_modules\cmaki
  - cmd: git clone https://github.com/boostorg/predef.git boostorg_predef
  - cmd: call node_modules\cmaki\setup.cmd
  - cmd: call node_modules\cmaki\compile.cmd
  - cmd: call node_modules\cmaki\tests.cmd
